<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" type="text/css" href="css/style.css" />
  <link rel="stylesheet" type="text/css" href="css/prism.css" />
  <script src="script/prism.js"></script>
  <title>Minesweeper AI, not so good but reallistic</title>
</head>
<body>
  <div id="content">
    <p><a href="index.html">devox</a> \ <a href="posts.html">posts</a> \ <span class="link-end">post id in database</span></p>
    <div class="dashed-line"></div>

    <h1><span class="entry-symbol">-/</span> Minesweeper AI, not so good but realistic.</h1>

    <p>After seeing some videos of AI resolving minesweeper, I was a bit disapointed when looking at the strategies used.</p>
    <p>Yeah they are really fast, but they all use exactly the same way of solving it: <strong>backtracking</strong>.</p>

    <p>A recursive technique which consists on building your solution one step at a time, and skipping the actual opportunity as soon as it doesn't fit your constraints.</p>
    <p>Involving a lot of things to remember, this strategy is not something that is used by humans (maybe some aliens can do it in the end where there are like 2 or 3 mines left).</p>
    <p>So, as excellent as it can be, it is only based on one strategy, which is kinda boring in the end.</p>

    <h2><span class="section-symbol">$</span> What is the idea then ?</h2>

    <p>I would like my AI to resolve it like a human would, but, <strong>how do we resolve a MineSweeper game ?</strong></p>
    <p>I played a little bit to realise how I was dealing with the different situations, the strategy that I used is quite simple:</p>

    <div class="container-left-bigger">
      <div class="left-section-column">
        <ul>
          <li>
            <p>Looking for locations with the same number of <strong>unmarked tiles</strong> and <strong>remaining undiscovered bombs</strong>.</p>
            <p>We can then simply mark all the tiles around without even thinking.</p>
          </li>
        </ul>
      </div>
      <div class="right-section-row">
        <img src="img/minesweeper_strat1.png">
        <p>></p>
        <img src="img/minesweeper_strat2.png">
      </div>
    </div>
    <div class="container-left-bigger">
      <div class="left-section-column">
        <ul>
          <li>
            <p>Then we'll search for tiles that have the same number of <strong>marked bombs</strong> around and <strong>amount of bombs written</strong> on them.</p>
            <p>This way, we can just discover all of the remaining tiles around with the certainty that they are safe. </p>
            <p>Using theses tro first strategies can make you finish <strong>really</strong> simple games, when increasing the amount of bombs, the winrate will drop as you'll need to gamble a lot more.</p>
          </li>
        </ul>
      </div>
      <div class="right-section-row">
        <img src="img/minesweeper_strat3.png">
        <p>></p>
        <img src="img/minesweeper_strat4.png">
      </div>
    </div>

    <ul>
      <li>
        <p>And finally we have the pattern recognition, we are looking for some simple patterns that assure the placement of 1, 2 or even 3 mines sometimes !</p>
        <p>A really helpful website listing patterns can be found <a href="https://minesweeper.online/help/patterns">here</a>, it will explain them soo much better than me. But I'll explain one here anyway.</p>
      </li>
    </ul>


    <div class="container-even">
      <div class="left-section-column">
        <p>The 1 at the top give us the certainty that there is a mine on the two top-most green cells.</p>
        <p>By discovering this, we can peacefully unveil the bottom cell because of the second 1.</p>
      </div>
      <div class="right-section-row">
        <img src="img/minesweeper_pattern1.png">
        <img src="img/minesweeper_pattern2.png">
      </div>
    </div>
    <p>Once we discovered some new tiles, we just have to repeat theses steps again an again until the end of this MinseSweeper grid !</p>
    

    <h2><span class="section-symbol">$</span> The implementation</h2>
    <p>I decided to use Python, this AI is the first "serious" project i've done since I started programming, so I wanted to use a language that I was familiar with.</p>
    <p>As you could expect, the code is not very well written, but I'll try to explain it as good as possible !</p>
    <br>
    <p>First of all, we need to implement the game, we'll use Tkinter for graphics and that's all.</p>
    
    <p>Creating the board is really simple:</p>
<pre class="language-python"><code>class Board():
  def __init__(self):
      self.board = []
      self.finished = False
      
      for i in range(HEIGHT):
        self.board.append([])
        for j in range(WIDTH):
            self.board[i].append(0)</code></pre> 


  <p>Then we just randomly add bombs:</p>
<pre class="language-python"><code> for i in range(MINE_AMOUNT):
  while True:
      rx=random.randint(0, WIDTH-1)
      ry=random.randint(0, HEIGHT-1)
      if self.board[ry][rx]!="x":
          self.board[ry][rx]="x"
          break</code></pre> 
  </div>
</body>
</html>